jQuery(document).ready(function(){if(jQuery('.mbdatepicker').length){jQuery('.mbdatepicker').datepicker({dateFormat:'yy-mm-dd',changeMonth:!0,changeYear:!0}).on("change",function(){jQuery(this).closest('form').bootstrapValidator('updateStatus',jQuery(this).prop('name'),'NOT_VALIDATED').bootstrapValidator('validateField',jQuery(this).prop('name'))})}
if(jQuery('input.tagging_input').length){jQuery('input.tagging_input').tagsinput({confirmKeys:[44]})}
if(jQuery('table.comp_manage').length){jQuery('table.comp_manage').DataTable({"scrollY":"350px","scrollCollapse":!0,"paging":!1,"info":!1,"bFilter":!1,"bInfo":!1})}
if(jQuery('.grid').length){var m=new Masonry(jQuery('.grid').get()[0],{itemSelector:".single-box"})}
if(jQuery('#signupForm').length){jQuery('#signupForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$signupForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});var btn_text=jQuery('form#loginform button[type="submit"]').html();refreshURL=window.location.href;jQuery('form#signupForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...');jQuery('#register-form .error-message').html('').hide();jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_signupForm",type:'POST',dataType:"json",data:formData,processData:!1,contentType:!1,success:function(data){if(data.status=='success'){window.location=siteUrl+"/thank-you-register/"}else{jQuery('form#signupForm button[type="submit"]').prop('disabled',!1).css('opacity','1').html('Register');if(data.message!=''&&data.message!==typeof undefined){jQuery('#register-form .error-message').html(data.message).show()}else{window.location=siteUrl+"/register/"}}
data=''},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#signupForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{user_firstname:{validators:{notEmpty:{message:'The First name is required and cannot be empty'}}},user_lastname:{validators:{notEmpty:{message:'The Last name is required and cannot be empty'}}},user_email:{validators:{notEmpty:{message:'The email address is required'},emailAddress:{message:'The input is not a valid email address'},callback:{message:'Please type another email address!',callback:function(value,validator){var match_with='';if(value.indexOf('@edarabia.com')==-1){match_with=value}
return value==match_with}}}},user_pass:{validators:{notEmpty:{message:'The password is required and cannot be empty'}}},user_nationalities:{validators:{notEmpty:{message:'The Nationality is required and cannot be empty'}}},user_gender:{validators:{notEmpty:{message:'The Gender is required and cannot be empty'}}}}})}
if(jQuery('#editProfileForm').length){jQuery('#editProfileForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$editProfileForm input[type="submit"]',submitHandler:function(validator,form,submitButton){var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray(),picture=$form.find('[name="profile_picture"]')[0].files[0];jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('profile_picture',picture);var btn_text=jQuery('form#editProfileForm input[type="submit"]').val();console.log('----------btn_text-----------');console.log(btn_text);console.log('----------btn_text-----------');refreshURL=window.location.href;jQuery('form#editProfileForm .glyphicon-ok').show();jQuery('form#editProfileForm input[type="submit"]').prop('disabled',!0).css('opacity','0.5').val('Submitting...');jQuery('#editProfileForm .alert-danger').find().remove();jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_editProfileForm",type:'POST',dataType:"json",data:formData,processData:!1,contentType:!1,success:function(data){if(data.status=='success'){internalServerErrorMesg('#editProfileForm','','alert-success',!0,btn_text,0,data.message);if(data.profile_picture!=''){profile_img_src=wpUrl+'/wp-content/'+data.profile_picture;jQuery('.listing-logo img').attr('src',profile_img_src)}
jQuery('#user_data_id').val(data.user_data_id);jQuery('form#editProfileForm .glyphicon-ok').hide();jQuery('form#editProfileForm input[type="submit"]').prop('disabled',!1).css('opacity','1').val('Update')}else if(data.status=='fail'){internalServerErrorMesg('#editProfileForm','','alert-danger',!0,btn_text,0,data.message)}},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#editProfileForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{user_firstname:{validators:{notEmpty:{message:'The First name is required and cannot be empty'}}},user_lastname:{validators:{notEmpty:{message:'The Last name is required and cannot be empty'}}},user_headline:{validators:{notEmpty:{message:'The Headline is required and cannot be empty'}}},user_dob:{validators:{notEmpty:{message:'The Date of Birth is required and cannot be empty'},date:{format:'YYYY-MM-DD',message:'The format is YYYY-MM-DD'}}},user_degree_level:{validators:{notEmpty:{message:'The Degree Level is required and cannot be empty'}}},user_gender:{validators:{notEmpty:{message:'The Gender is required and cannot be empty'}}},user_nationalities:{validators:{notEmpty:{message:'The Nationality is required and cannot be empty'}}},user_experience:{validators:{notEmpty:{message:'The Experience is required and cannot be empty'}}},user_industry:{validators:{notEmpty:{message:'The Industry is required and cannot be empty'}}},user_currentPosition:{validators:{notEmpty:{message:'The Current Position is required and cannot be empty'}}},user_salary_range:{validators:{notEmpty:{message:'The Salary Range is required and cannot be empty'}}},user_salary_currency:{validators:{notEmpty:{message:'The Salary currency is required and cannot be empty'}}},user_locationCountry:{validators:{notEmpty:{message:'The Location Country is required and cannot be empty'}}},user_zipcode:{validators:{notEmpty:{message:'The Zip Code is required and cannot be empty'}}},user_number:{validators:{notEmpty:{message:'The Mobile Number is required and cannot be empty'}}},user_address:{validators:{notEmpty:{message:'The Address is required and cannot be empty'}}},profile_picture:{validators:{file:{extension:'jpeg,png,jpg',type:'image/jpeg,image/png',maxSize:1048576,message:'The selected picture is not valid, it should be .jpg/.png and 5 MB at maximum.'}}},user_website:{validators:{uri:{message:'Website url is not valid'}}}}})}
if(jQuery('#loginform').length){jQuery('#loginform').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$loginform button[type="submit"]',submitHandler:function(validator,form,submitButton){var formData=jQuery(form).serialize();var btn_text=jQuery('form#loginform input[type="submit"]').val();refreshURL=window.location.href;jQuery('form#loginform input[type="submit"]').prop('disabled',!0).css('opacity','0.5').val('Submitting...');jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_loginForm",type:'POST',dataType:'json',data:formData,success:function(data){console.log(data);console.log('dddddddddd');if(typeof data.status!==typeof undefined&&data.status=='success'){if(jQuery("#job_id").length){window.location.href=jQuery("#job_id").val()}else{var get_url_vars=getCurrentUrlParams();if(get_url_vars.redirect&&get_url_vars.redirect!==typeof undefined){window.location.replace(get_url_vars.redirect)}else{window.location.href=siteUrl+'/'+data.redirect_uri+'/'}}}else{jQuery('.login-error').html(data.message);jQuery('.login-error').show();jQuery('form#loginform input[type="submit"]').prop('disabled',!1).css('opacity','1').val('Login')}},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#loginform',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{log:{validators:{notEmpty:{message:'Your email address is required'},emailAddress:{message:'The input is not a valid email address'}}},pass:{validators:{notEmpty:{message:'Your password is required'}}}},})}
if(jQuery('#forgetpasswordForm').length){jQuery('#forgetpasswordForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$forgetpasswordForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var formData=jQuery(form).serialize();var btn_text=jQuery('form#forgetpasswordForm input[type="submit"]').val();refreshURL=window.location.href;jQuery('form#forgetpasswordForm input[type="submit"]').prop('disabled',!0).css('opacity','0.5').val('Submitting...');jQuery('.error-message').html('').hide();jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_forgetpasswordForm",type:'POST',dataType:"json",data:formData,success:function(data){if(data.status=='success'){jQuery('.msgsent').html('Email has been sent successfully. Please confirm.');jQuery('#user_email').val('');jQuery('.forgetbox').hide()}else{if(data.message!=''&&data.message!==typeof undefined){jQuery('.error-message').html(data.message).show()}else{jQuery('.msgsent').html('System has not sent mail. Please try again.')}
jQuery('#user_email').val('')}
jQuery('form#forgetpasswordForm input[type="submit"]').prop('disabled',!1).css('opacity','1').val('Reset Password')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#forgetpasswordForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{user_email:{validators:{notEmpty:{message:'The email address is required'},emailAddress:{message:'The input is not a valid email address'}}}},})}
if(jQuery('#changePassForm').length){jQuery('#changePassForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$changePassForm button[type="submit"]',submitHandler:function(validator,form,submitButton){jQuery('.msgsent').hide();var formData=jQuery(form).serialize();var btn_text=jQuery('form#changePassForm input[type="submit"]').val();refreshURL=window.location.href;jQuery('form#changePassForm input[type="submit"]').prop('disabled',!0).css('opacity','0.5').val('Submitting...');jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_changePassForm",type:'POST',dataType:"json",data:formData,success:function(data){jQuery('form#changePassForm input[type="submit"]').prop('disabled',!1).css('opacity','1').val('Change Password');jQuery('.msgsent').html('');if(data.status=='success'){window.location=siteUrl+"/"+data.redirect_uri}else{if(data.message){jQuery('.msgsent').html(data.message).show()}else jQuery('.msgsent').html('System has some problem. Please try again.')}},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#changePassForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{current_password:{validators:{notEmpty:{message:'The new password is required and cannot be empty'}}},newpassword:{validators:{notEmpty:{message:'The new password is required and cannot be empty'},identical:{field:'confirmPassword',message:'The password and its confirm are not the same'}}},confirmPassword:{validators:{notEmpty:{message:'The  re-enter password is required and cannot be empty'},identical:{field:'newpassword',message:'The password and its confirm are not the same'}}}},})}
jQuery(document).on("click","#userlogout",function(){jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_logoutForm",type:'POST',success:function(data){window.location.href=siteUrl+"/login/"},error:function(xhr,ajaxOptions,thrownError){console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})});if(jQuery('#forgetpasscreate').length){jQuery('#forgetpasscreate').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$forgetpasscreate button[type="submit"]',submitHandler:function(validator,form,submitButton){var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});var btn_text=jQuery('form#forgetpasscreate input[type="submit"]').val();refreshURL=window.location.href;jQuery('form#forgetpasscreate button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...');jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=submit_resetpassForm",type:'POST',data:formData,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){jQuery('#loading').show()},success:function(data){jQuery('#loading').hide();if(data.status=='success'){window.location=siteUrl+"/login/"}else{jQuery('.msgsent').html('System has some problem. Please try again.')}},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#forgetpasscreate',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{newpassword:{validators:{notEmpty:{message:'The new password is required and cannot be empty'},identical:{field:'confirmPassword',message:'The password and its confirm are not the same'}}},confirmPassword:{validators:{notEmpty:{message:'The  re-enter password is required and cannot be empty'},identical:{field:'newpassword',message:'The password and its confirm are not the same'}}}}})}
jQuery('body').on('click','.delete-profile',function(){jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=deleteUserProfile",type:'POST',beforeSend:function(){jQuery('.error_message').hide();jQuery('.delete-profile').prop('disabled',!0).css('opacity','0.5').text('Deleting...');jQuery('.cancel_profile_deletion_btn').prop('disabled',!0).css('opacity','0.5')},success:function(data){jQuery('.delete-profile').prop('disabled',!1).css('opacity','1').text('Yes');jQuery('.cancel_profile_deletion_btn').prop('disabled',!1).css('opacity','1');if(data=='done'){jQuery('body').remove();window.location.href=siteUrl+'/jobs';jQuery('#deleteProfileConfirmModal').modal('toggle')}else{jQuery('.error_message').show()}},error:function(xhr,ajaxOptions,thrownError){console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})});jQuery('.book_free_event').on('click',function(){var get_url_vars=getCurrentUrlParams();var event_id=get_url_vars.event_id;var tickets=get_url_vars.tickets;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=bookFreeEvents",type:'POST',data:'event_id='+event_id+'&tickets='+tickets,beforeSend:function(){jQuery('.error_message').hide();jQuery('.ajax-loader').show();jQuery('.book_free_event').hide()},success:function(data){jQuery('.ajax-loader').hide();jQuery('.book_free_event').show();data=JSON.parse(data);if(data.status=='success'){window.location=data.goto_url}else{jQuery('.error_message').show();jQuery('.error_message').html(data.message)}},error:function(xhr,ajaxOptions,thrownError){console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})})});function showpass(fieldid){var x=document.getElementById(fieldid);if(x.type==="password"){x.type="text"}else{x.type="password"}}
function getCurrentUrlParams(){var vars={};var parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(m,key,value){vars[key]=value});return vars}
function displayfilevalue(fileid,textfieldid){jQuery("#"+fileid).change(function(){var fileName=jQuery("#"+fileid).prop('files')[0].name;jQuery("#"+textfieldid).val(fileName)})}
var preventDoubleSubmission=0;function firstLetterCapital(flag){var str=flag[0].toUpperCase()+flag.slice(1);return str}
function limitInputChars(_this){var maxLength=_this.attr('maxLength');var length=_this.val().length;var length=maxLength-length;var limit_class=_this.attr('char-limit-class');jQuery(limit_class).text(length)}
function limitInputCharsForEdit(_this){var maxlength=_this.attr('maxlength');var str=_this.val();test_str=str;if(str.length>maxlength){str=str.substr(0,maxlength);_this.val(str)}}
jQuery(document).ready(function(){jQuery('.limit-chars').keyup(function(){var _this=jQuery(this);limitInputChars(_this)});jQuery('.edit_projects').on('click',function(e){var row_id=jQuery(this).attr('data-row-id');var flag=jQuery(this).attr('data-flag');var formId='#'+flag+'InfoForm';jQuery('input[name="pro_title"]').val(jQuery('.projects-row-'+row_id+' .pro_title').text());jQuery('input[name="pro_start_date"]').val(jQuery('.projects-row-'+row_id+' input[name="hidden_pro_start_date"]').val());jQuery('input[name="pro_end_date"]').val(jQuery('.projects-row-'+row_id+' input[name="hidden_pro_end_date"]').val());if(jQuery('.projects-row-'+row_id+' input[name="hidden_exp_currently_present"]').val()==0){jQuery('input[name="pro_ongoing"]').prop("checked",!1)}else{jQuery('input[name="pro_ongoing"]').prop("checked",!0)}
jQuery('input[name="pro_url"]').val(jQuery('.projects-row-'+row_id+' .project-url').text());var project_desc=jQuery('.projects-row-'+row_id+' .project-desc').text();var pro_des_attrs=jQuery('textarea[name="pro_description"]');pro_des_attrs.val(project_desc);limitInputCharsForEdit(pro_des_attrs);limitInputChars(pro_des_attrs)});jQuery('body').on('click','.profile-add-icon, .profile-edit-icon',function(e){var _this=jQuery(this);var class_name=_this.attr("data-heading-class");var row_id=_this.attr("data-row-id");var flag=_this.attr("data-flag");var heading=_this.attr("title");var modal_id=_this.attr("data-target");jQuery('.'+class_name).html(heading);var formId=jQuery(modal_id+' form').attr('id');if(row_id){jQuery('input[name="'+flag+'_id"]').val(row_id)}else{jQuery('#'+formId).bootstrapValidator('resetForm',!0);resetAllFieldsOfForm('#'+formId);jQuery('input[name="'+flag+'_id"]').val('')}});jQuery('.edit_lang').on('click',function(e){var row_id=jQuery(this).attr('data-row-id');var flag=jQuery(this).attr('data-flag');var formId='#'+flag+'InfoForm';jQuery(formId+' input[name="'+flag+'_id"]').val(row_id);var lang_name=jQuery('.'+flag+'-row-'+row_id+' .lang-title').text();var lang_proficiency=jQuery('.'+flag+'-row-'+row_id+' .lang_proficiency').text();jQuery(formId+' input[name="lang_name"]').val(lang_name);jQuery(formId+' select[name="lang_proficiency"] option[value='+lang_proficiency+']').attr('selected','selected')});jQuery('#manageLangModal').on('hidden.bs.modal',function(e){resetAllFieldsOfForm('#langInfoForm');jQuery("form#langInfoForm")[0].reset()});jQuery('.edit_skills').on('click',function(e){var row_id=jQuery(this).attr('data-row-id');var flag=jQuery(this).attr('data-flag');var formId='#editSkillsInfoForm';jQuery(formId+' input[name="'+flag+'_id"]').val(row_id);var skill_title=jQuery('.'+flag+'-wrapper .'+flag+'-row-'+row_id+' .skill-title').text();jQuery(formId+' input[name="skill_title"]').val(skill_title)});jQuery('#editSkillsModal').on('hidden.bs.modal',function(e){resetAllFieldsOfForm('#editSkillsInfoForm');jQuery("form#editSkillsInfoForm")[0].reset()});jQuery('.edit_awards').on('click',function(e){var row_id=jQuery(this).attr('data-row-id');var flag=jQuery(this).attr('data-flag');var formId='#'+flag+'InfoForm';var awards_title=jQuery('.'+flag+'-row-'+row_id+' .awards_title').text();var awards_issuer=jQuery('.'+flag+'-row-'+row_id+' .awards_issuer').text();var awards_date=jQuery('.'+flag+'-row-'+row_id+' .awards_date').text();var awards_desc=jQuery('.'+flag+'-row-'+row_id+' .awards_desc').text();jQuery(formId+' input[name="awards_title"]').val(awards_title);jQuery(formId+' input[name="awards_issuer"]').val(awards_issuer);jQuery(formId+' input[name="awards_date"]').val(awards_date);var awards_desc_attrs=jQuery('textarea[name="awards_desc"]');awards_desc_attrs.val(awards_desc);limitInputCharsForEdit(awards_desc_attrs);limitInputChars(awards_desc_attrs)});jQuery('.edit_edu').on('click',function(e){var row_id=jQuery(this).attr('data-row-id');var flag=jQuery(this).attr('data-flag');var formId='#'+flag+'InfoForm';var edu_school_name=jQuery('.'+flag+'-row-'+row_id+' .edu_school_name').text();var edu_degree=jQuery('.'+flag+'-row-'+row_id+' .edu_degree').text();var edu_grade=jQuery('.'+flag+'-row-'+row_id+' .edu_grade').text();var edu_from_year=jQuery('.'+flag+'-row-'+row_id+' .edu_from_year').text();var edu_to_year=jQuery('.'+flag+'-row-'+row_id+' .edu_to_year').text();var edu_field_of_study=jQuery('.'+flag+'-row-'+row_id+' .edu_field_of_study').text();var edu_activities_societies=jQuery('.'+flag+'-row-'+row_id+' .edu_activities_societies').text();var edu_description=jQuery('.'+flag+'-row-'+row_id+' .edu_description').text();var edu_activities_attrs=jQuery('textarea[name="edu_activities_societies"]');edu_activities_attrs.val(edu_activities_societies);limitInputCharsForEdit(edu_activities_attrs);limitInputChars(edu_activities_attrs);var edu_description_attrs=jQuery('textarea[name="edu_description"]');edu_description_attrs.val(edu_description);limitInputCharsForEdit(edu_description_attrs);limitInputChars(edu_description_attrs);jQuery(formId+' input[name="edu_school_name"]').val(edu_school_name);jQuery(formId+' input[name="edu_degree"]').val(edu_degree);jQuery(formId+' input[name="edu_grade"]').val(edu_grade);jQuery(formId+' input[name="edu_from_year"]').val(edu_from_year);jQuery(formId+' input[name="edu_to_year"]').val(edu_to_year);jQuery(formId+' input[name="edu_field_of_study"]').val(edu_field_of_study)});jQuery('#manageAwardsModal').on('hidden.bs.modal',function(e){resetAllFieldsOfForm('#awardsInfoForm');jQuery("form#awardsInfoForm")[0].reset()});jQuery('.edit_experience').on('click',function(e){var row_id=jQuery(this).attr('data-row-id');var flag=jQuery(this).attr('data-flag');var formId='#'+flag+'InfoForm';jQuery('input[name="exp_title"]').val(jQuery('.experience-row-'+row_id+' .exp_title').text());jQuery('input[name="exp_company"]').val(jQuery('.experience-row-'+row_id+' .exp_company').text());jQuery('input[name="exp_from_date"]').val(jQuery('.experience-row-'+row_id+' input[name="hidden_exp_from_date"]').val());jQuery('input[name="exp_to_date"]').val(jQuery('.experience-row-'+row_id+' input[name="hidden_exp_to_date"]').val());if(jQuery('.experience-row-'+row_id+' input[name="hidden_exp_currently_present"]').val()==0){jQuery('input[name="exp_currently_present"]').prop("checked",!1)}else{jQuery('input[name="exp_currently_present"]').prop("checked",!0)}
jQuery('input[name="exp_location"]').val(jQuery('.experience-row-'+row_id+' .company_location').text());var exp_description=jQuery('.experience-row-'+row_id+' .extra-details').text();var exp_description_attrs=jQuery('textarea[name="exp_description"]');exp_description_attrs.val(exp_description);limitInputCharsForEdit(exp_description_attrs);limitInputChars(exp_description_attrs)});jQuery('#manageExperienceModal').on('hidden.bs.modal',function(e){resetAllFieldsOfForm('#experienceInfoForm');jQuery("form#experienceInfoForm")[0].reset()});if(jQuery('#eduInfoForm').length){jQuery('#eduInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$eduInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var flag=jQuery('#eduInfoForm input[name="flag"]').val();var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#'+flag+'InfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=manageUserProfileFields",type:'POST',dataType:"json",data:formData,processData:!1,contentType:!1,beforeSend:function(){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var message=data.message;var user_data_id=data.user_data_id;var row_id=data.row_id;$mk_html='';jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-popup-message').html('');jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');if(data.response=='success'){if(data.insertion_type=='first'){jQuery('input[name="user_data_id"]').val(user_data_id)}
jQuery('.'+flag+'-listing-message').html('<div class="alert alert-success fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');jQuery('.'+flag+'-container .listing-error-mesg').remove();if(data.saved_type=='add'){var receivedHTML=mkEduHtml('add',data,flag);jQuery('.'+flag+'-wrapper').prepend(receivedHTML)}else if(data.saved_type=='update'){mkEduHtml('update',data,flag)}
setTimeout(function(){jQuery('.'+flag+'-row-'+data.row_id).removeAttr('style');jQuery('.'+flag+'-listing-message').html('')},3000)}else{jQuery('html, body').animate({scrollTop:jQuery(".user-"+flag+"-record").offset().top},1000);jQuery('.'+flag+'-listing-message').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');setTimeout(function(){jQuery('.'+flag+'-listing-message').html('')},3000)}
jQuery('#'+flag+'InfoForm').bootstrapValidator('resetForm',!0);jQuery('#manage'+firstLetterCapital(flag)+'Modal').modal('toggle')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#'+flag+'InfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})},feedbackIcons:{required:'glyphicon glyphicon-asterisk',valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{edu_school_name:{validators:{notEmpty:{message:'The School Name is required and cannot be empty'}}},edu_degree:{validators:{notEmpty:{message:'The Degree is required and cannot be empty'}}},edu_field_of_study:{validators:{notEmpty:{message:'The Field of Study is required and cannot be empty'}}},edu_grade:{validators:{notEmpty:{message:'The Grade is required and cannot be empty'}}},edu_activities_societies:{validators:{notEmpty:{message:'The Acivities & Societies is required and cannot be empty'}}},edu_from_year:{validators:{notEmpty:{message:'The From Year is required and cannot be empty'},stringLength:{min:4,max:4,message:'The year length must be 4 digits'}}},edu_to_year:{validators:{notEmpty:{message:'The To Year is required and cannot be empty'},stringLength:{min:4,max:4,message:'The year length must be 4 digits'}}}}})}
if(jQuery('#awardsInfoForm').length){jQuery('#awardsInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$awardsInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var flag=jQuery('#awardsInfoForm input[name="flag"]').val();var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#awardsInfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=manageUserProfileFields",type:'POST',dataType:'json',data:formData,processData:!1,contentType:!1,beforeSend:function(){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var message=data.message;var user_data_id=data.user_data_id;var row_id=data.row_id;$mk_html='';jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-popup-message').html('');jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');if(data.response=='success'){if(data.insertion_type=='first'){jQuery('input[name="user_data_id"]').val(user_data_id)}
jQuery('.'+flag+'-listing-message').html('<div class="alert alert-success fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');jQuery('.'+flag+'-container .listing-error-mesg').remove();if(data.saved_type=='add'){var receivedHTML=mkAwardsHtml('add',data,flag);jQuery('.'+flag+'-wrapper').prepend(receivedHTML)}else if(data.saved_type=='update'){mkAwardsHtml('update',data,flag)}
setTimeout(function(){jQuery('.'+flag+'-row-'+data.row_id).removeAttr('style');jQuery('.'+flag+'-listing-message').html('')},3000)}else{jQuery('html, body').animate({scrollTop:jQuery(".user-"+flag+"-record").offset().top},1000);jQuery('.'+flag+'-listing-message').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>')}
jQuery('#'+flag+'InfoForm').bootstrapValidator('resetForm',!0);jQuery('#manage'+firstLetterCapital(flag)+'Modal').modal('toggle')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#awardsInfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{awards_title:{validators:{notEmpty:{message:'This field is required'}}},awards_issuer:{validators:{notEmpty:{message:'This field is required'}}},awards_date:{validators:{notEmpty:{message:'This field is required'}}},awards_desc:{validators:{notEmpty:{message:'This field is required'}}}}})}
if(jQuery('#experienceInfoForm').length){jQuery("#experienceInfoForm").submit(function(e){jQuery('.expEndDate').css({'display':'none'});e.preventDefault();var isCurrentlyWorking=jQuery("input[name='exp_currently_present']:checked").length>0;var exp_to_date=jQuery('input[name="exp_to_date"]').val();if(isCurrentlyWorking===!1&&exp_to_date==''){jQuery('.expEndDate').css({'display':'block','color':'#a94442'})}});jQuery('#experienceInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$experienceInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var isCurrentlyWorking=jQuery("input[name='exp_currently_present']:checked").length>0;var exp_to_date=jQuery('input[name="exp_to_date"]').val();if(isCurrentlyWorking===!1&&exp_to_date==''){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).css('opacity','1').html('Save');return!1}
var flag=jQuery('#experienceInfoForm input[name="flag"]').val();var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#experienceInfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=manageUserProfileFields",type:'POST',data:formData,dataType:"json",processData:!1,contentType:!1,beforeSend:function(){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var message=data.message;var user_data_id=data.user_data_id;var row_id=data.row_id;$mk_html='';jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-popup-message').html('');jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');if(data.response=='success'){if(data.insertion_type=='first'){jQuery('input[name="user_data_id"]').val(user_data_id)}
jQuery('.'+flag+'-listing-message').html('<div class="alert alert-success fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');jQuery('.'+flag+'-container .listing-error-mesg').remove();if(data.saved_type=='add'){var receivedHTML=mkExperienceHtml('add',data,flag);jQuery('.'+flag+'-wrapper').prepend(receivedHTML)}else if(data.saved_type=='update'){mkExperienceHtml('update',data,flag)}
setTimeout(function(){jQuery('.'+flag+'-row-'+data.row_id).removeAttr('style');jQuery('.'+flag+'-listing-message').html('')},3000)}else{jQuery('html, body').animate({scrollTop:jQuery(".user-"+flag+"-record").offset().top},1000);jQuery('.'+flag+'-listing-message').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>')}
jQuery('#'+flag+'InfoForm').bootstrapValidator('resetForm',!0);jQuery('#manage'+firstLetterCapital(flag)+'Modal').modal('toggle')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#experienceInfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{exp_title:{validators:{notEmpty:{message:'Experience title is required and cannot be empty'}}},exp_company:{validators:{notEmpty:{message:'Company name is required and cannot be empty'}}},exp_location:{validators:{notEmpty:{message:'Location name is required and cannot be empty'}}},exp_from_date:{validators:{notEmpty:{message:'Start date is required and cannot be empty'}}},exp_description:{validators:{notEmpty:{message:'Description is required and cannot be empty'}}},}})}
if(jQuery('#langInfoForm').length){jQuery('#langInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$langInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var flag=jQuery('#langInfoForm input[name="flag"]').val();var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#langInfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=manageUserProfileFields",type:'POST',dataType:'json',data:formData,processData:!1,contentType:!1,beforeSend:function(){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var message=data.message;var user_data_id=data.user_data_id;var row_id=data.row_id;$mk_html='';jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-popup-message').html('');jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');if(data.response=='success'){if(data.insertion_type=='first'){jQuery('input[name="user_data_id"]').val(user_data_id)}
jQuery('.'+flag+'-listing-message').html('<div class="alert alert-success fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');jQuery('.'+flag+'-container .listing-error-mesg').remove();if(data.saved_type=='add'){var receivedHTML=mkLangsHtml('add',data,flag);jQuery('.'+flag+'-wrapper').prepend(receivedHTML)}else if(data.saved_type=='update'){mkLangsHtml('update',data,flag)}
setTimeout(function(){jQuery('.'+flag+'-row-'+data.row_id).removeAttr('style');jQuery('.'+flag+'-listing-message').html('')},3000)}else{jQuery('html, body').animate({scrollTop:jQuery(".user-"+flag+"-record").offset().top},1000);jQuery('.'+flag+'-listing-message').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>')}
jQuery('#'+flag+'InfoForm').bootstrapValidator('resetForm',!0);jQuery('#manage'+firstLetterCapital(flag)+'Modal').modal('toggle')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#langInfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{lang_name:{validators:{notEmpty:{message:'Language title is required and cannot be empty'}}},lang_proficiency:{validators:{notEmpty:{message:'This field is required'}}}}})}
if(jQuery('#editSkillsInfoForm').length){jQuery('#editSkillsInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$editSkillsInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var flag=jQuery('#editSkillsInfoForm input[name="flag"]').val();var formId='#edit'+firstLetterCapital(flag)+'InfoForm';var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#editSkillsInfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=editSkills",type:'POST',dataType:'json',data:formData,processData:!1,contentType:!1,beforeSend:function(){jQuery('form#edit'+firstLetterCapital(flag)+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var row_id=data.row_id;jQuery('.'+flag+'-row-'+row_id).css({'background-color':'#58D68D','border':'1px solid #58D68D'});var listingDIV='.'+flag+'-row-'+row_id;jQuery(listingDIV+' .skill-title').html(jQuery('#edit'+firstLetterCapital(flag)+'InfoForm input[name="skill_title"]').val());jQuery('#edit'+firstLetterCapital(flag)+'InfoForm').bootstrapValidator('resetForm',!0);jQuery('#edit'+firstLetterCapital(flag)+'Modal').modal('toggle');setTimeout(function(){jQuery('.'+flag+'-row-'+data.row_id).removeAttr('style');jQuery('.'+flag+'-listing-message').html('')},3000);jQuery('form#edit'+firstLetterCapital(flag)+'InfoForm button[type="submit"]').prop('disabled',!1).css('opacity','1').text('Save')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#editSkillsInfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{skill_title:{validators:{notEmpty:{message:'Skills title is required and cannot be empty'}}}}})}
if(jQuery('#skillsInfoForm').length){jQuery('#skillsInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$skillsInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var flag=jQuery('#skillsInfoForm input[name="flag"]').val();jQuery('.skill_title_mesg').hide();if(jQuery('#skillsInfoForm input[name="skill_title"]').val()!=''){var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#skillsInfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=manageSkills",type:'POST',dataType:'json',data:formData,processData:!1,contentType:!1,beforeSend:function(){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var message=data.message;var user_data_id=data.user_data_id;$mk_html='';jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-popup-message').html('');jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');if(data.response=='success'){var changed_record=data.changed_record;if(data.insertion_type=='first'){jQuery('input[name="user_data_id"]').val(user_data_id)}
jQuery('.'+flag+'-listing-message').html('<div class="alert alert-success fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');jQuery('.'+flag+'-container .listing-error-mesg').remove();$mk_html='';for(var i=0;i<changed_record.length;i++){row_id=changed_record[i][0];skill_title=changed_record[i][1].skill_title;$mk_html+='<div class="skill_title tags-button profile-rows '+flag+'-row '+flag+'-row-'+row_id+'">';$mk_html+='<div class="skill-title">'+skill_title+'</div>';$mk_html+='<div class="'+flag+'-actions">';$mk_html+='<span data-row-id="'+row_id+'" class="edit_'+flag+' take_actions profile-edit-icon" data-toggle="modal" data-target="#edit'+firstLetterCapital(flag)+'Modal" title="Edit Skills" data-heading-class="'+flag+'-heading" data-flag="'+flag+'"><i class="fa fa-pencil"></i></span>';$mk_html+='<span class="delete_'+flag+' take_actions" db-field="'+flag+'" row-id="'+row_id+'" user-data-id="'+user_data_id+'" data-flag="'+flag+'" onclick="return deleteProfileFields(this);" title="Delete"><i class="fa fa-trash delete-icon"></i></span>';$mk_html+='<span class="loader"></span>';$mk_html+='</div>';$mk_html+='</div>';jQuery('.'+flag+'-wrapper').prepend($mk_html);$mk_html=''}
setTimeout(function(){jQuery('.skills-listing-message').html('')},3000)}else{jQuery('html, body').animate({scrollTop:jQuery(".user-"+flag+"-record").offset().top},1000);jQuery('.'+flag+'-listing-message').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');setTimeout(function(){jQuery('.skills-listing-message').html('')},3000)}
jQuery("#"+flag+"InfoForm input[name='skill_title']").tagsinput('removeAll');jQuery('#'+flag+'InfoForm').bootstrapValidator('resetForm',!0);jQuery('#manage'+firstLetterCapital(flag)+'Modal').modal('toggle')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#skillsInfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})}else{jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');jQuery('.skill_title_mesg').css({'display':'block','color':'#a94442'});setTimeout(function(){jQuery('.skill_title_mesg').hide()},5000);return!1}},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'}})}
jQuery(document).ready(function(){if(jQuery('#projectsInfoForm').length){jQuery("#projectsInfoForm").submit(function(e){jQuery('.projEndDate').css({'display':'none'});e.preventDefault();var isProjOngoing=jQuery("input[name='pro_ongoing']:checked").length>0;var pro_end_date=jQuery('input[name="pro_end_date"]').val();if(isProjOngoing===!1&&pro_end_date==''){jQuery('.projEndDate').css({'display':'block','color':'#a94442'})}});jQuery('#projectsInfoForm').bootstrapValidator({live:'enabled',message:'This value is not valid',submitButton:'$projectsInfoForm button[type="submit"]',submitHandler:function(validator,form,submitButton){var isProjOngoing=jQuery("input[name='pro_ongoing']:checked").length>0;var pro_end_date=jQuery('input[name="pro_end_date"]').val();if(isProjOngoing===!1&&pro_end_date==''){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).css('opacity','1').html('Save');return!1}
var flag=jQuery('#projectsInfoForm input[name="flag"]').val();var $form=jQuery(form),formData=new FormData(),params=$form.serializeArray();user_data_id=jQuery("body").find('[name="user_data_id"]').val();jQuery.each(params,function(i,val){formData.append(val.name,val.value)});formData.append('user_data_id',user_data_id);var btn_text=jQuery('form#projectsInfoForm button[type="submit"]').html();refreshURL=window.location.href;jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=manageUserProfileFields",type:'POST',dataType:'json',data:formData,processData:!1,contentType:!1,beforeSend:function(){jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!0).css('opacity','0.5').html('Submitting...')},success:function(data){var message=data.message;var user_data_id=data.user_data_id;var row_id=data.row_id;$mk_html='';jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-popup-message').html('');jQuery('form#'+flag+'InfoForm button[type="submit"]').prop('disabled',!1).removeAttr("style").html('Save');if(data.response=='success'){if(data.insertion_type=='first'){jQuery('input[name="user_data_id"]').val(user_data_id)}
jQuery('.'+flag+'-listing-message').html('<div class="alert alert-success fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');jQuery('.'+flag+'-container .listing-error-mesg').remove();if(data.saved_type=='add'){var receivedHTML=mkProjHtml('add',data,flag);jQuery('.'+flag+'-wrapper').prepend(receivedHTML)}else if(data.saved_type=='update'){mkProjHtml('update',data,flag)}
setTimeout(function(){jQuery('.'+flag+'-row-'+data.row_id).removeAttr('style');jQuery('.'+flag+'-listing-message').html('')},3000)}else{jQuery('html, body').animate({scrollTop:jQuery(".user-"+flag+"-record").offset().top},1000);jQuery('.'+flag+'-listing-message').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>')}
jQuery('#projectsInfoForm').bootstrapValidator('resetForm',!0);jQuery('#manage'+firstLetterCapital(flag)+'Modal').modal('toggle')},error:function(xhr,ajaxOptions,thrownError){internalServerErrorMesg('#projectsInfoForm',refreshURL,'alert-warning',!0,btn_text);console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}})},feedbackIcons:{valid:'glyphicon glyphicon-ok',invalid:'glyphicon glyphicon-remove',validating:'glyphicon glyphicon-refresh'},fields:{pro_title:{validators:{notEmpty:{message:'Project title is required and cannot be empty'}}},pro_start_date:{validators:{notEmpty:{message:'Start date is required and cannot be empty'}}},pro_url:{validators:{notEmpty:{message:'Project url is required and cannot be empty'},uri:{message:'Project url is not valid'}}},pro_description:{validators:{notEmpty:{message:'Description is required and cannot be empty'}}}}})}})});function resetAllFieldsOfForm(form){jQuery(form).find(':input').each(function(){switch(this.type){case 'password':case 'select-multiple':case 'text':case 'textarea':jQuery(this).val('');break;case 'select-one':jQuery(this).find('option:first').attr('selected','selected');break;case 'submit':jQuery(this).prop("disabled",!1);break;case 'checkbox':case 'radio':this.checked=!1;break}})}
function mkExperienceHtml(status,data,flag){var user_data_id=data.user_data_id;var row_id=data.row_id;var formID='#'+flag+'InfoForm';var db_field=jQuery(formID+" input[name=db_field]").val();$mk_html='';var exp_title=jQuery(formID+" input[name=exp_title]").val();var exp_company=jQuery(formID+" input[name=exp_company]").val();var exp_location=jQuery(formID+" input[name=exp_location]").val();var exp_from_date=jQuery(formID+" input[name=exp_from_date]").val();var exp_to_date=jQuery(formID+" input[name=exp_to_date]").val();var exp_description=jQuery(formID+" textarea[name=exp_description]").val();if(status=='add'){$mk_html+='<div class="profile-rows '+flag+'-row row '+flag+'-row-'+row_id+'">';$mk_html+='<div class="col-md-10 col-sm-10 col-xs-10">';$mk_html+='<ul class="list-icons">';$mk_html+='<li><i class="purple fa fa-rocket"></i> Title: <span class="exp_title">'+exp_title+'</span></li>';$mk_html+='<li class="profile-items"><i class="purple fa fa-building"></i> Company: <span class="exp_company">'+exp_company+'</span></li>';$mk_html+='<li class="profile-items"><i class="purple fa fa-calendar"></i> Duration: <span class="duration">';var isCurrentlyPresent=(jQuery(formID+' input[name="exp_currently_present"]:checked').length>0)?'Current':exp_to_date;var isCurrentOrNot=(jQuery(formID+' input[name="exp_currently_present"]:checked').length>0)?1:0;$mk_html+='<span>';$mk_html+=exp_from_date+' - '+isCurrentlyPresent;$mk_html+='</span>';$mk_html+='<input type="hidden" name="hidden_exp_from_date" value="'+exp_from_date+'">';$mk_html+='<input type="hidden" name="hidden_exp_to_date" value="'+exp_to_date+'">';$mk_html+='<input type="hidden" name="hidden_exp_currently_present" value="'+isCurrentOrNot+'">';$mk_html+='</span></li>';$mk_html+='<li class="profile-items"><i class="purple fa fa-map-marker text-center"></i> Location: <span class="company_location">'+exp_location+'<span></li>';$mk_html+='<li class="profile-items"><i class="purple fa fa-newspaper-o"></i> Description: <span class="extra-details">'+exp_description+'</span></li>';$mk_html+='</ul>';$mk_html+='</div>';$mk_html+='<div class="col-md-2 col-sm-2 col-xs-2 '+flag+'-actions text-right">';$mk_html+='<span data-row-id="'+row_id+'" class="edit_'+flag+' take_actions profile-edit-icon" data-toggle="modal" data-target="#manage'+firstLetterCapital(flag)+'Modal" title="Add Experience" data-heading-class="'+flag+'-heading" data-flag="'+flag+'">';$mk_html+='<i class="fa fa-pencil"></i>';$mk_html+='</span>';$mk_html+='<span class="delete_'+flag+' take_actions" db-field="'+db_field+'" row-id="'+row_id+'" user-data-id="'+user_data_id+'" data-flag="'+flag+'" onclick="return deleteProfileFields(this);" title="Delete">';$mk_html+='<i class="fa fa-trash delete-icon"></i>'
$mk_html+='</span>';$mk_html+='<span class="loader"></span>';$mk_html+='</div>';$mk_html+='</div>';return $mk_html}else{jQuery('.experience-row-'+row_id).css('background-color','#58D68D');var listingDIV='.experience-row-'+row_id;jQuery(listingDIV+' span.exp_title').html(exp_title);jQuery(listingDIV+' span.exp_company').html(exp_company);var isCurrentlyPresent=(jQuery(formID+' input[name="exp_currently_present"]:checked').length>0)?'Current':jQuery(formID+" input[name=exp_to_date]").val();var isCurrentOrNot=(jQuery(formID+' input[name="exp_currently_present"]:checked').length>0)?1:0;jQuery(listingDIV+' .duration span').html(jQuery(formID+" input[name=exp_from_date]").val()+' - '+isCurrentlyPresent);jQuery(listingDIV+' input[name="hidden_exp_from_date"]').html(exp_from_date);jQuery(listingDIV+' input[name="hidden_exp_to_date"]').html(exp_to_date);jQuery(listingDIV+' input[name="hidden_exp_currently_present"]').html(isCurrentOrNot);jQuery(listingDIV+' .company_location').html(exp_location);jQuery(listingDIV+' .extra-details').html(exp_description);return!0}}
function mkProjHtml(status,data,flag){var user_data_id=data.user_data_id;var row_id=data.row_id;var formID='#'+flag+'InfoForm';var db_field=jQuery(formID+" input[name=db_field]").val();$mk_html='';var exp_title=jQuery(formID+" input[name=exp_title]").val();var exp_company=jQuery(formID+" input[name=exp_company]").val();var exp_location=jQuery(formID+" input[name=exp_location]").val();var exp_from_date=jQuery(formID+" input[name=exp_from_date]").val();var exp_to_date=jQuery(formID+" input[name=exp_to_date]").val();var exp_description=jQuery(formID+" textarea[name=exp_description]").val();if(status=='add'){$mk_html+='<div class="profile-rows '+flag+'-row row '+flag+'-row-'+row_id+'">';$mk_html+='<div class="col-md-10 col-sm-10 col-xs-10">';$mk_html+='<ul class="list-icons">';$mk_html+='<li><i class="mr5 purple fa fa fa-header"></i> Project Name: <span class="pro_title">'+jQuery(formID+" input[name=pro_title]").val()+'</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-calendar"></i> Duration: <span class="duration">';var isOnGoing=(jQuery(formID+' input[name="pro_ongoing"]:checked').length>0)?'On Going':jQuery(formID+" input[name=pro_end_date]").val();var isOngoingOrNot=(jQuery(formID+' input[name="pro_ongoing"]:checked').length>0)?1:0;$mk_html+='<span>';$mk_html+=jQuery(formID+" input[name=pro_start_date]").val()+' - '+isOnGoing;$mk_html+='</span>';$mk_html+='<input type="hidden" name="hidden_pro_start_date" value="'+jQuery(formID+" input[name=pro_start_date]").val()+'">';$mk_html+='<input type="hidden" name="hidden_pro_end_date" value="'+jQuery(formID+" input[name=pro_end_date]").val()+'">';$mk_html+='<input type="hidden" name="hidden_exp_currently_present" value="'+isOngoingOrNot+'">';$mk_html+='</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-globe"></i> Project URL: <span class="project-url">'+jQuery(formID+" input[name=pro_url]").val()+'</span></li>';$mk_html+='<li class="profile-items"><i class="purple fa fa-newspaper-o"></i> Description: <span class="project-desc">'+jQuery(formID+" textarea[name=pro_description]").val()+'</span></li>';$mk_html+='</ul>';$mk_html+='</div>';$mk_html+='<span class="float-right col-md-2 col-sm-2 col-xs-2 '+flag+'-actions" style="width:auto;">';$mk_html+='<a href="#" data-row-id="'+row_id+'" class="float-left edit_'+flag+' take_actions profile-edit-icon" data-toggle="modal" data-target="#manage'+firstLetterCapital(flag)+'Modal" title="Add Project" data-heading-class="'+flag+'-heading" data-flag="'+flag+'">';$mk_html+='<i class="fa fa-pencil"></i>';$mk_html+='</a>';$mk_html+='<span class="float-left delete_'+flag+' take_actions" db-field="'+db_field+'" row-id="'+row_id+'" user-data-id="'+user_data_id+'" data-flag="'+flag+'" onclick="return deleteProfileFields(this);" title="Delete">';$mk_html+='<i class="fa fa-trash delete-icon"></i>'
$mk_html+='</span>';$mk_html+='<span class="loader"></span>';$mk_html+='</span>';$mk_html+='</div>';return $mk_html}else{jQuery('.projects-row-'+row_id).css('background-color','#58D68D');var listingDIV='.projects-row-'+row_id;jQuery(listingDIV+' h4').html(jQuery(formID+" input[name=pro_title]").val());var isOnGoing=(jQuery(formID+' input[name="hidden_exp_currently_present"]:checked').length>0)?'On Going':jQuery(formID+" input[name=pro_end_date]").val();var isOngoingOrNot=(jQuery(formID+' input[name="pro_ongoing"]:checked').length>0)?1:0;jQuery(listingDIV+' .duration span').html(jQuery(formID+" input[name=pro_start_date]").val()+' - '+isOnGoing);jQuery(listingDIV+' input[name="hidden_pro_start_date"]').html(jQuery(formID+" input[name=pro_start_date]").val());jQuery(listingDIV+' input[name="hidden_pro_end_date"]').html(jQuery(formID+" input[name=pro_end_date]").val());jQuery(listingDIV+' input[name="hidden_pro_ongoing"]').html(isOngoingOrNot);jQuery(listingDIV+' .project-url').html(jQuery(formID+" input[name=pro_url]").val());jQuery(listingDIV+' .project-desc').html(jQuery(formID+" textarea[name=pro_description]").val());return!0}}
function deleteUserProject(project_id,user_data_id){if(confirm("Are you sure you want to delete")){jQuery.ajax({url:templateUrl+"/contents/ajax-functions.php?fun=deleteUserProject",type:'POST',dataType:'json',data:'project_id='+project_id+'&user_data_id='+user_data_id,beforeSend:function(){jQuery('.project-row-'+project_id+' .edit_project, '+'.project-row-'+project_id+' .delete_project').css({"display":"none"});jQuery('.project-row-'+project_id+' .project-actions .loader').html('<img src="'+siteUrl+'/wp-content/themes/newed/assets/images/ajax-loader.gif" width="25" title="loading image" alt="loading image">')},success:function(data){jQuery('.project-row-'+project_id).ht;var response=data.response;var message=data.message;if(response=='success'){jQuery('.project-row-'+project_id+' .project-actions').html('');jQuery('.project-row-'+project_id).css({"color":"#a94442","background-color":"#f2dede"});setTimeout(function(){jQuery('.project-row-'+project_id).remove();if(jQuery('.project-listing').find('.project-row').length<=0){jQuery('.project-listing-message').html('');jQuery('.project-listing').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12 listing-error-mesg">Please add your project to complete your profile.</div>')}},500);jQuery('.project-listing-message').html('')}else{jQuery('.project-row-'+project_id+' .edit_project, '+'.project-row-'+project_id+' .delete_project').removeAttr("style");jQuery('.project-row-'+project_id+' .loader').html('');jQuery('.project-listing-message').html('');jQuery('.project-listing-message').html('<div class="alert alert-danger fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');setTimeout(function(){jQuery('.project-listing-message').html('')},5000)}
return!1},error:function(xhr,ajaxOptions,thrownError){console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1}}
function mkLangsHtml(status,data,flag){var user_data_id=data.user_data_id;var row_id=data.row_id;var formID='#'+flag+'InfoForm';$mk_html='';var lang_proficiency=jQuery(formID+' select[name="lang_proficiency"] option:selected').val();if(status=='add'){$mk_html+='<div class="lang_title tags-button profile-rows '+flag+'-row '+flag+'-row-'+row_id+'">';$mk_html+='<div class="lang-title">'+jQuery(formID+" input[name=lang_name]").val()+'</div>';$mk_html+='<div class="'+flag+'-actions">';$mk_html+='<span data-row-id="'+row_id+'" class="edit_'+flag+' take_actions profile-edit-icon" data-toggle="modal" data-target="#manage'+firstLetterCapital(flag)+'Modal" title="Edit Skills" data-heading-class="'+flag+'-heading" data-flag="'+flag+'"><i class="fa fa-pencil"></i></span>';$mk_html+='<span class="delete_'+flag+' take_actions" db-field="languages" row-id="'+row_id+'" user-data-id="'+user_data_id+'" data-flag="'+flag+'" onclick="return deleteProfileFields(this);" title="Delete"><i class="fa fa-trash delete-icon"></i></span>';$mk_html+='<span class="loader"></span>';$mk_html+='</div>';$mk_html+='<div class="lang_proficiency">'+lang_proficiency+'</div>';$mk_html+='</div>';return $mk_html}else{jQuery('.'+flag+'-row-'+row_id).css('background-color','#58D68D');var listingDIV='.'+flag+'-row-'+row_id;jQuery(listingDIV+' .lang-title').html(jQuery(formID+" input[name=lang_name]").val());jQuery(listingDIV+' .lang_proficiency').html(lang_proficiency);return!0}}
function deleteProfileFields(attributes){var attr=jQuery(attributes);var db_field=attr.attr('db-field');var row_id=attr.attr('row-id');var user_data_id=attr.attr('user-data-id');var flag=attr.attr('data-flag');if(confirm("Are you sure you want to delete")){jQuery.ajax({url:templateUrl+"/user-management/inc/user-ajax-functions.php?fun=deleteProfileFields",type:'POST',dataType:'json',data:'db_field='+db_field+'&row_id='+row_id+'&user_data_id='+user_data_id,beforeSend:function(){jQuery('.'+flag+'-row-'+row_id+' .edit_'+flag+', '+'.'+flag+'-row-'+row_id+' .delete_'+flag).css({"display":"none"});jQuery('.'+flag+'-row-'+row_id+' .'+flag+'-actions .loader').html('<img src="'+siteUrl+'/wp-content/themes/newed/assets/images/ajax-loader.gif" width="25" title="loading image" alt="loading image">')},success:function(data){var response=data.response;var message=data.message;if(response=='success'){jQuery('.'+flag+'-row-'+row_id+' .'+flag+'-actions').html('');jQuery('.'+flag+'-row-'+row_id).css({"color":"#a94442","background-color":"#f2dede","border":"1px solid #cb2028"});setTimeout(function(){jQuery('.'+flag+'-row-'+row_id).remove();if(jQuery('.'+flag+'-wrapper').find('.'+flag+'-row').length<=0){jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-wrapper').html('<div class="alert alert-info fade in alert-dismissible col-md-12 col-sm-12 col-xs-12 listing-error-mesg">Please add your language to complete your profile.</div>')}},500)}else{jQuery('.'+flag+'-row-'+row_id+' .edit_'+flag+', '+'.'+flag+'-row-'+row_id+' .delete_'+flag+'').removeAttr("style");jQuery('.'+flag+'-row-'+row_id+' .loader').html('');jQuery('.'+flag+'-listing-message').html('');jQuery('.'+flag+'-listing-message').html('<div class="alert alert-danger fade in alert-dismissible col-md-12 col-sm-12 col-xs-12">'+message+'</div>');setTimeout(function(){jQuery('.'+flag+'-listing-message').html('')},5000)}
return!1},error:function(xhr,ajaxOptions,thrownError){console.log(xhr.status);console.log(xhr.responseText);console.log(thrownError)}});return!1}}
function mkAwardsHtml(status,data,flag){var user_data_id=data.user_data_id;var row_id=data.row_id;var formID='#'+flag+'InfoForm';$mk_html='';var title=jQuery(formID+" input[name="+flag+"_title]").val();var issuer=jQuery(formID+" input[name="+flag+"_issuer]").val();var date=jQuery(formID+" input[name="+flag+"_date]").val();var desc=jQuery(formID+" textarea[name="+flag+"_desc]").val();if(status=='add'){$mk_html+='<div class="profile-rows awards-row row awards-row-'+row_id+'">';$mk_html+='<div class="col-md-10 col-sm-10 col-xs-10">';$mk_html+='<ul class="list-icons">';$mk_html+='<li><i class="mr5 purple fa fa-header text-center"></i> Award Title: <span class="awards_title">'+title+'</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-institution"></i> Award issuer: <span class="awards_issuer">'+issuer+'</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-calendar text-center"></i> Awards date: <span class="awards_date">'+date+'</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-newspaper-o"></i> Awards description: <span class="awards_desc">'+desc+'</span></li>';$mk_html+='</ul>';$mk_html+='</div>';$mk_html+='<div class="col-md-2 col-sm-2 col-xs-2 awards-actions text-right">';$mk_html+='<span data-row-id="'+row_id+'" class="edit_'+flag+' take_actions profile-edit-icon" data-toggle="modal" data-target="#manage'+firstLetterCapital(flag)+'Modal" title="Edit Honours & Awards" data-heading-class="awards-heading" data-flag="'+flag+'">';$mk_html+='<i class="fa fa-pencil"></i>';$mk_html+='</span>';$mk_html+='<span class="delete_'+flag+' take_actions" db-field="'+flag+'" row-id="'+row_id+'" user-data-id="'+user_data_id+'" data-flag="awards" onclick="return deleteProfileFields(this);" title="Delete">';$mk_html+='<i class="fa fa-trash delete-icon"></i>';$mk_html+='</span>';$mk_html+='<span class="loader"></span>';$mk_html+='</div>';$mk_html+='</div>';return $mk_html}else{jQuery('.'+flag+'-row-'+row_id).css('background-color','#58D68D');var listingDIV='.'+flag+'-row-'+row_id;jQuery(listingDIV+" .awards_title").html(jQuery(formID+" input[name=awards_title]").val());jQuery(listingDIV+" .awards_issuer").html(jQuery(formID+" input[name=awards_issuer]").val());jQuery(listingDIV+" .awards_date").html(jQuery(formID+" input[name=awards_date]").val());jQuery(listingDIV+" .awards_desc").html(jQuery(formID+" textarea[name=awards_desc]").val());return!0}}
function mkEduHtml(status,data,flag){var user_data_id=data.user_data_id;var row_id=data.row_id;var formID='#'+flag+'InfoForm';var db_field=jQuery(formID+" input[name=db-field]").val();$mk_html='';var edu_school_name=jQuery(formID+" input[name=edu_school_name]").val();var edu_degree=jQuery(formID+" input[name=edu_degree]").val();var edu_grade=jQuery(formID+" input[name=edu_grade]").val();var edu_field_of_study=jQuery(formID+" input[name=edu_field_of_study]").val();var edu_activities_societies=jQuery(formID+" textarea[name=edu_activities_societies]").val();var edu_from_year=jQuery(formID+" input[name=edu_from_year]").val();var edu_to_year=jQuery(formID+" input[name=edu_to_year]").val();var edu_description=jQuery(formID+" textarea[name=edu_description]").val();if(status=='add'){$mk_html+='<div class="profile-rows '+flag+'-row row '+flag+'-row-'+row_id+'">';$mk_html+='<div class="col-md-10 col-sm-10 col-xs-10">';$mk_html+='<ul class="list-icons">';$mk_html+='<li><i class="mr5 purple fa fa-graduation-cap"></i>Degree: <span class="edu_degree">'+edu_degree+'</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-institution"></i>School Name: <span class="edu_school_name">'+edu_school_name+'</span></li>';$mk_html+='<li class="profile-items"><i class="mr5 purple fa fa-star"></i>Grade: <span class="edu_grade">'+edu_grade+'</span></li>';$mk_html+='<li class="edu_dates profile-items"><i class="mr5 purple fa fa-calendar"></i>Session: ';$mk_html+='<span class="edu_from_year">'+edu_from_year+'</span> - <span class="edu_to_year">'+edu_to_year+'</span>';$mk_html+='</li>';$mk_html+='<li class="display-none">';$mk_html+='<span class="edu_field_of_study">'+edu_field_of_study+'</span>';$mk_html+='<span class="edu_activities_societies">'+edu_activities_societies+'</span>';$mk_html+='<span class="edu_description">'+edu_description+'</span>';$mk_html+='</li>';$mk_html+='</ul>';$mk_html+='</div>';$mk_html+='<div class="col-md-2 col-sm-2 col-xs-2 '+flag+'-actions text-right">';$mk_html+='<span href="#" data-row-id="'+row_id+'" class="edit_'+flag+' take_actions profile-edit-icon" data-toggle="modal" data-target="#manage'+firstLetterCapital(flag)+'Modal" title="Edit Education Information" data-heading-class="edu-heading" data-flag="'+flag+'">';$mk_html+='<i class="fa fa-pencil"></i>';$mk_html+='</span>';$mk_html+='<span class="delete_'+flag+' take_actions" db-field="'+db_field+'" row-id="'+row_id+'" user-data-id="'+user_data_id+'" data-flag="'+flag+'" onclick="return deleteProfileFields(this);" title="Delete">';$mk_html+='<i class="fa fa-trash delete-icon"></i>'
$mk_html+='</span>';$mk_html+='<span class="loader"></span>';$mk_html+='</div>';$mk_html+='</div>';return $mk_html}else{jQuery('.'+flag+'-row-'+row_id).css('background-color','#58D68D');var listingDIV='.'+flag+'-row-'+row_id;jQuery(listingDIV+" .edu_school_name").html(jQuery(formID+" input[name=edu_school_name]").val());jQuery(listingDIV+" .edu_degree").html(jQuery(formID+" input[name=edu_degree]").val());jQuery(listingDIV+" .edu_grade").html(jQuery(formID+" input[name=edu_grade]").val());jQuery(listingDIV+" .edu_activities_societies").html(jQuery(formID+" textarea[name=edu_activities_societies]").val());jQuery(listingDIV+" .edu_from_year").html(jQuery(formID+" input[name=edu_from_year]").val());jQuery(listingDIV+" .edu_to_year").html(jQuery(formID+" input[name=edu_to_year]").val());jQuery(listingDIV+" .edu_activities_societies").html(jQuery(formID+" input[name=edu_activities_societies]").val());jQuery(listingDIV+" .edu_description").html(jQuery(formID+" textarea[name=edu_description]").val());return!0}}
;